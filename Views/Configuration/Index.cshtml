@{
    ViewData["Title"] = "Configuration JSON";
}

<h2>Configuration</h2>

<form method="post" enctype="multipart/form-data" action="/Configuration/UploadJson">
    <label for="jsonFile">Upload JSON File:</label>
    <input type="file" name="jsonFile" id="jsonFile" accept=".json" required />
    <button type="submit">Upload</button>
</form>

<h2>Configuration Tree</h2>

<div id="jstree"></div>

@section Scripts {
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/themes/default/style.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.11/jstree.min.js"></script>

    <script>
        $(function () {
            $('#jstree').jstree({
                'core': {
                    'data': @Html.Raw(Json.Serialize(Model)),
                    'check_callback': true
                }
            });
        });
    </script>
}
